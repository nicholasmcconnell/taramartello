{"ast":null,"code":"var _jsxFileName = \"/Users/nicholasmcconnell/code/todo/client/src/components/todo/CreateTodos.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport UserContext from '../../context/UserContext';\nimport API from '../../utils/todoAPI';\nimport ErrorNotice from '../misc/ErrorNotice';\nimport SuccessNotice from '../misc/SuccessNotice'; // import SuccessContext from '../../context/SuccessContext';\n\nimport Form from '../layout/UpdateForm';\nimport Card from '../../components/layout/Card';\nexport default function CreateTodos() {\n  const [title, setTitle] = useState('');\n  const [youTubeUrl, setYouTubeUrl] = useState();\n  const [description, setDescription] = useState();\n  const [error, setError] = useState();\n  const [todoSuccess, setTodoSuccess] = useState();\n  const {\n    userData\n  } = useContext(UserContext);\n  const history = useHistory();\n  localStorage.setItem('lastVisited', 'createtodos');\n  useEffect(() => {\n    if (!userData.user) {\n      history.push('/login');\n    }\n  }, []);\n\n  const setIntialStates = () => {\n    // Send initial state as prop to error and success\n    setTodoSuccess(undefined);\n    setError(undefined);\n    setTitle('');\n    setYouTubeUrl('');\n    setDescription('');\n  };\n\n  const submit = async e => {\n    e.preventDefault();\n\n    try {\n      const newTodo = {\n        title,\n        youTubeUrl,\n        description\n      };\n      await API.createTodos(newTodo, userData.token).then(res => setTodoSuccess(`Success, ${userData.user.displayName}!  Your Todo has been saved.`)) // .then API.get\n      .catch(err => err.response.data.msg && setError(err.response.data.msg));\n    } catch (err) {\n      console.log(\"Something when wrong\");\n    } // setIntialStates();\n\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, \"CreateTodos\"), error && /*#__PURE__*/React.createElement(ErrorNotice, {\n    message: error,\n    clearError: () => setError(undefined),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }), todoSuccess && /*#__PURE__*/React.createElement(SuccessNotice, {\n    message: todoSuccess,\n    clearSuccess: () => {\n      setTodoSuccess(undefined); // setTitle('');\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    className: \"form\",\n    onSubmit: submit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"todo-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"todo-title\",\n    type: \"text\",\n    onChange: e => setTitle(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"todo-youtubeurl\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, \"YouTube URL\"), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"todo-youtubeurl\",\n    type: \"url\",\n    onChange: e => setYouTubeUrl(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"todo-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    id: \"todo-description\",\n    name: \"todo-description\",\n    onChange: e => setDescription(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buttons-div\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"clear\",\n    value: \"Clear\",\n    onClick: setIntialStates,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"type-button\",\n    onClick: () => {\n      history.push('/');\n      setTodoSuccess(undefined);\n    },\n    value: \"Home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, \"Home\")));\n}","map":{"version":3,"sources":["/Users/nicholasmcconnell/code/todo/client/src/components/todo/CreateTodos.js"],"names":["React","useState","useContext","useEffect","useHistory","Link","UserContext","API","ErrorNotice","SuccessNotice","Form","Card","CreateTodos","title","setTitle","youTubeUrl","setYouTubeUrl","description","setDescription","error","setError","todoSuccess","setTodoSuccess","userData","history","localStorage","setItem","user","push","setIntialStates","undefined","submit","e","preventDefault","newTodo","createTodos","token","then","res","displayName","catch","err","response","data","msg","console","log","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,UAAT,EAAqBC,IAArB,QAAiC,kBAAjC;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,GAAP,MAAgB,qBAAhB;AACA,OAAOC,WAAP,MAAwB,qBAAxB;AACA,OAAOC,aAAP,MAA0B,uBAA1B,C,CACA;;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,OAAOC,IAAP,MAAiB,8BAAjB;AAEA,eAAe,SAASC,WAAT,GAAuB;AAElC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACc,UAAD,EAAaC,aAAb,IAA8Bf,QAAQ,EAA5C;AACA,QAAM,CAACgB,WAAD,EAAcC,cAAd,IAAgCjB,QAAQ,EAA9C;AACA,QAAM,CAACkB,KAAD,EAAQC,QAAR,IAAoBnB,QAAQ,EAAlC;AACA,QAAM,CAACoB,WAAD,EAAcC,cAAd,IAAgCrB,QAAQ,EAA9C;AAEA,QAAM;AAAEsB,IAAAA;AAAF,MAAerB,UAAU,CAACI,WAAD,CAA/B;AACA,QAAMkB,OAAO,GAAGpB,UAAU,EAA1B;AAEAqB,EAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoC,aAApC;AAEAvB,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACoB,QAAQ,CAACI,IAAd,EAAoB;AAChBH,MAAAA,OAAO,CAACI,IAAR,CAAa,QAAb;AACH;AACJ,GAJQ,EAIN,EAJM,CAAT;;AAMA,QAAMC,eAAe,GAAG,MAAM;AAC1B;AACAP,IAAAA,cAAc,CAACQ,SAAD,CAAd;AACAV,IAAAA,QAAQ,CAACU,SAAD,CAAR;AACAhB,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACAE,IAAAA,aAAa,CAAC,EAAD,CAAb;AACAE,IAAAA,cAAc,CAAC,EAAD,CAAd;AACH,GAPD;;AASA,QAAMa,MAAM,GAAG,MAAOC,CAAP,IAAa;AACxBA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAI;AACA,YAAMC,OAAO,GAAG;AAAErB,QAAAA,KAAF;AAASE,QAAAA,UAAT;AAAqBE,QAAAA;AAArB,OAAhB;AAEA,YAAMV,GAAG,CAAC4B,WAAJ,CAAgBD,OAAhB,EAAyBX,QAAQ,CAACa,KAAlC,EACDC,IADC,CACIC,GAAG,IAAIhB,cAAc,CAAE,YAAWC,QAAQ,CAACI,IAAT,CAAcY,WAAY,8BAAvC,CADzB,EAEF;AAFE,OAGDC,KAHC,CAGKC,GAAG,IACLA,GAAG,CAACC,QAAJ,CAAaC,IAAb,CAAkBC,GAAlB,IAAyBxB,QAAQ,CAACqB,GAAG,CAACC,QAAJ,CAAaC,IAAb,CAAkBC,GAAnB,CAJpC,CAAN;AAOH,KAVD,CAUE,OAAOH,GAAP,EAAY;AACVI,MAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACH,KAduB,CAexB;;AACH,GAhBD;;AAkBA,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,EAEK3B,KAAK,iBACF,oBAAC,WAAD;AAAa,IAAA,OAAO,EAAEA,KAAtB;AAA6B,IAAA,UAAU,EAAE,MAAMC,QAAQ,CAACU,SAAD,CAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHR,EAMKT,WAAW,iBACR,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAEA,WAAxB;AAAqC,IAAA,YAAY,EAAE,MAAM;AACrDC,MAAAA,cAAc,CAACQ,SAAD,CAAd,CADqD,CAErD;AACH,KAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPR,eAsBI;AAAM,IAAA,SAAS,EAAC,MAAhB;AAAuB,IAAA,QAAQ,EAAEC,MAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,OAAO,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAEI;AACI,IAAA,EAAE,EAAC,YADP;AAEI,IAAA,IAAI,EAAC,MAFT;AAGI,IAAA,QAAQ,EAAEC,CAAC,IAAIlB,QAAQ,CAACkB,CAAC,CAACe,MAAF,CAASC,KAAV,CAH3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAQI;AAAO,IAAA,OAAO,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBARJ,eASI;AACI,IAAA,EAAE,EAAC,iBADP;AAEI,IAAA,IAAI,EAAC,KAFT;AAGI,IAAA,QAAQ,EAAEhB,CAAC,IAAIhB,aAAa,CAACgB,CAAC,CAACe,MAAF,CAASC,KAAV,CAHhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,eAeI;AAAO,IAAA,OAAO,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAfJ,eAgBI;AACI,IAAA,EAAE,EAAC,kBADP;AAEI,IAAA,IAAI,EAAC,kBAFT;AAGI,IAAA,QAAQ,EAAEhB,CAAC,IAAId,cAAc,CAACc,CAAC,CAACe,MAAF,CAASC,KAAV,CAHjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBJ,eAqBI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,KAAK,EAAC,OAA1B;AAAkC,IAAA,OAAO,EAAEnB,eAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CArBJ,CAtBJ,eAgDI;AAAQ,IAAA,SAAS,EAAC,aAAlB;AAAgC,IAAA,OAAO,EAAE,MAAM;AAAEL,MAAAA,OAAO,CAACI,IAAR,CAAa,GAAb;AAAmBN,MAAAA,cAAc,CAACQ,SAAD,CAAd;AAA4B,KAAhG;AAAkG,IAAA,KAAK,EAAC,MAAxG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAhDJ,CADJ,CADJ;AAuDH","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\nimport { useHistory, Link } from 'react-router-dom';\nimport UserContext from '../../context/UserContext';\nimport API from '../../utils/todoAPI';\nimport ErrorNotice from '../misc/ErrorNotice';\nimport SuccessNotice from '../misc/SuccessNotice';\n// import SuccessContext from '../../context/SuccessContext';\nimport Form from '../layout/UpdateForm';\nimport Card from '../../components/layout/Card';\n\nexport default function CreateTodos() {\n\n    const [title, setTitle] = useState('');\n    const [youTubeUrl, setYouTubeUrl] = useState();\n    const [description, setDescription] = useState();\n    const [error, setError] = useState();\n    const [todoSuccess, setTodoSuccess] = useState();\n\n    const { userData } = useContext(UserContext);\n    const history = useHistory();\n\n    localStorage.setItem('lastVisited', 'createtodos');\n\n    useEffect(() => {\n        if (!userData.user) {\n            history.push('/login')\n        }\n    }, []);\n\n    const setIntialStates = () => {\n        // Send initial state as prop to error and success\n        setTodoSuccess(undefined);\n        setError(undefined)\n        setTitle('');\n        setYouTubeUrl('');\n        setDescription('');\n    }\n\n    const submit = async (e) => {\n        e.preventDefault();\n        try {\n            const newTodo = { title, youTubeUrl, description }\n\n            await API.createTodos(newTodo, userData.token)\n                .then(res => setTodoSuccess(`Success, ${userData.user.displayName}!  Your Todo has been saved.`))\n                // .then API.get\n                .catch(err =>\n                    (err.response.data.msg && setError(err.response.data.msg))\n                )\n\n        } catch (err) {\n            console.log(\"Something when wrong\")\n        }\n        // setIntialStates();\n    }\n\n    return (\n        <div className='page'>\n            <div className='container'>\n                <h2>CreateTodos</h2>\n                {error && (\n                    <ErrorNotice message={error} clearError={() => setError(undefined)} />\n                )}\n\n                {todoSuccess && (\n                    <SuccessNotice message={todoSuccess} clearSuccess={() => {\n                        setTodoSuccess(undefined);\n                        // setTitle('');\n                    }\n                    } />\n                )}\n\n                {/* <Form\n                    onSubmit={submit.bind()}\n                    // setTitle={() => setTitle}\n                    // setYouTubeUrl={setYouTubeUrl}\n                    // setDescription={setDescription}\n\n                /> */}\n\n                <form className='form' onSubmit={submit}>\n                    <label htmlFor='todo-title'>Title</label>\n                    <input\n                        id='todo-title'\n                        type='text'\n                        onChange={e => setTitle(e.target.value)}\n                    />\n\n                    <label htmlFor='todo-youtubeurl'>YouTube URL</label>\n                    <input\n                        id='todo-youtubeurl'\n                        type='url'\n                        onChange={e => setYouTubeUrl(e.target.value)}\n                    />\n\n                    <label htmlFor='todo-description'>Description</label>\n                    <textarea\n                        id='todo-description'\n                        name='todo-description'\n                        onChange={e => setDescription(e.target.value)}\n                    />\n                    <div className='buttons-div'>\n                        <input type='submit' value='Submit'/>\n                        <input type='clear' value='Clear' onClick={setIntialStates}/>\n                    </div>\n                </form>\n                <button className='type-button' onClick={() => { history.push('/'); setTodoSuccess(undefined); }} value='Home'>Home</button>\n\n            </div>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}