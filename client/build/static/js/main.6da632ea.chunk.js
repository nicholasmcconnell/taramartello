(this["webpackJsonptaramartello-front"]=this["webpackJsonptaramartello-front"]||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/TaraName.2d6fc5f2.png"},30:function(e,t,a){e.exports=a.p+"static/media/whatIOffer.fbfa456c.png"},31:function(e,t,a){e.exports=a(61)},36:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),l=a.n(c),s=(a(36),a(9)),o=a.n(s),i=a(12),m=a(3),u=a(1),p=a(5),f=Object(n.createContext)(null),d=a(10),b=a.n(d);function E(){return r.a.createElement("header",{id:"header"},r.a.createElement(p.b,{to:"/"},r.a.createElement("h1",{className:"title"},"Tara Martello")))}var g=a(14),v=a.n(g);function h(e){return r.a.createElement("div",{className:"error-notice"},r.a.createElement("span",null,e.message),r.a.createElement("button",{onClick:e.clearError},"X"))}function w(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),s=Object(m.a)(l,2),p=s[0],d=s[1],E=Object(n.useState)(),g=Object(m.a)(E,2),v=g[0],w=g[1],O=Object(n.useContext)(f),j=O.userData,k=O.setUserData,x=Object(u.f)();Object(n.useEffect)((function(){var e=localStorage.getItem("lastVisited");j.user&&x.push(e)}));var y=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:a,password:p},e.next=5,b.a.post("/api/users/login",n);case 5:r=e.sent,k({token:r.data.token,user:r.data.user}),localStorage.setItem("auth-token",r.data.token),x.push("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response.data.msg&&w(e.t0.response.data.msg);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Login"),v&&r.a.createElement(h,{message:v,clearError:function(){return w(void 0)}}),r.a.createElement("form",{className:"form",onSubmit:y},r.a.createElement("label",{htmlFor:"login-email"},"Email"),r.a.createElement("input",{id:"login-email",type:"email",onChange:function(e){return c(e.target.value)}}),r.a.createElement("label",{htmlFor:"login-password"},"Password"),r.a.createElement("input",{id:"login-password",type:"password",onChange:function(e){return d(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Log in"}))))}function O(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),s=Object(m.a)(l,2),p=s[0],d=s[1],E=Object(n.useState)(),g=Object(m.a)(E,2),v=g[0],w=g[1],O=Object(n.useState)(),j=Object(m.a)(O,2),k=j[0],x=j[1],y=Object(n.useState)(),N=Object(m.a)(y,2),S=N[0],C=N[1],I=Object(n.useContext)(f).setUserData,_=Object(u.f)(),D=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,n={email:a,password:p,passwordCheck:v,displayName:k},e.next=5,b.a.post("/api/users/register",n);case 5:return e.next=7,b.a.post("/api/users/login",{email:a,password:p});case 7:r=e.sent,I({token:r.data.token,user:r.data.user}),localStorage.setItem("auth-token",r.data.token),_.push("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),e.t0.response.data.msg&&C(e.t0.response.data.msg);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"page"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Register"),S&&r.a.createElement(h,{message:S,clearError:function(){return C(void 0)}}),r.a.createElement("form",{className:"form",onSubmit:D},r.a.createElement("label",{htmlFor:"register-email"},"Email"),r.a.createElement("input",{id:"register-email",type:"email",onChange:function(e){return c(e.target.value)}}),r.a.createElement("label",{htmlFor:"register-password"},"Password"),r.a.createElement("input",{id:"register-password",type:"password",onChange:function(e){return d(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Verify password",onChange:function(e){return w(e.target.value)}}),r.a.createElement("label",{htmlFor:"register-display-name"},"Display name"),r.a.createElement("input",{id:"register-display-name",type:"text",onChange:function(e){return x(e.target.value)}}),r.a.createElement("input",{type:"submit",value:"Register"}))))}function j(e){return r.a.createElement("div",{className:"landingImgContainer"},r.a.createElement("img",{className:"taraImage",src:e.image}),";")}var k=a(30),x=a.n(k);var y=function(){return Object(n.useContext)(f).userData,Object(u.f)(),Object(n.useEffect)((function(){localStorage.setItem("lastVisited","")})),r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{image:v.a}),r.a.createElement(j,{image:x.a}))};function N(){var e=Object(n.useState)(),t=Object(m.a)(e,2),a=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{action:"https://taramartello.us17.list-manage.com/subscribe/post?u=388b4c4e898214aaf5d7be920&id=9a1f10895f",method:"post",id:"mc-embedded-subscribe-form",name:"mc-embedded-subscribe-form",className:"validate footerform",target:"_blank",novalidate:!0},r.a.createElement("h2",null,"Sign up for my Newsletter!"),r.a.createElement("div",{id:"mc_embed_signup_scroll"},r.a.createElement("input",{type:"email",value:a,name:"EMAIL",className:"email",id:"mce-EMAIL",placeholder:"Enter email",onChange:function(e){return c(e.target.value)}}),r.a.createElement("div",{style:{position:"absolute",left:"-5000px"},"aria-hidden":"true"},r.a.createElement("input",{type:"text",name:"b_388b4c4e898214aaf5d7be920_9a1f10895f",tabindex:"-1",value:""})),r.a.createElement("input",{type:"submit",value:"Subscribe",name:"subscribe",id:"mc-embedded-subscribe",class:"button"}))))}function S(){return r.a.createElement("footer",{className:"footer",id:"footer"},r.a.createElement(N,null),r.a.createElement("div",{className:"icons"},r.a.createElement("a",{href:"https://www.instagram.com/taramartello_/?hl=en",target:"_blank"},r.a.createElement("i",{className:"fab fa-instagram fa-2x"})),r.a.createElement("a",{href:"https://www.facebook.com/tara.martello.5",target:"_blank"},r.a.createElement("i",{className:"fab fa-facebook fa-2x"})),r.a.createElement("a",{href:"https://twitter.com/MartelloTara",target:"_blank"},r.a.createElement("i",{className:"fab fa-twitter fa-2x"}))))}a(60);var C=function(){var e=Object(n.useState)({token:void 0,user:void 0}),t=Object(m.a)(e,2),a=t[0],c=t[1];return Object(u.f)(),Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:"main-container"},r.a.createElement(p.a,null,r.a.createElement(f.Provider,{value:{userData:a,setUserData:c}},r.a.createElement(E,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:y}),r.a.createElement(u.a,{path:"/login",component:w}),r.a.createElement(u.a,{path:"/register",component:O})),r.a.createElement(S,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.6da632ea.chunk.js.map